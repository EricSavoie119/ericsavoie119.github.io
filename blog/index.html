<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <meta name="color-scheme" content="light">
  <meta name="supported-color-schemes" content="light">
  <meta name="description" content="Thoughts on app development, lessons learned, and project updates from Eric Savoie">
  <meta name="keywords" content="iOS development, SwiftUI, app development, AWS, mobile apps, Eric Savoie">

  <!-- Open Graph -->
  <meta property="og:type" content="website">
  <meta property="og:title" content="Blog | Eric Savoie">
  <meta property="og:description" content="Thoughts on app development, lessons learned, and project updates">
  <meta property="og:url" content="https://savoie.app/blog/">

  <!-- Twitter Card -->
  <meta name="twitter:card" content="summary">
  <meta name="twitter:title" content="Blog | Eric Savoie">
  <meta name="twitter:description" content="Thoughts on app development, lessons learned, and project updates">

  <!-- Canonical URL -->
  <link rel="canonical" href="https://savoie.app/blog/">

  <title>Blog | Eric Savoie - iOS Developer</title>

  <!-- PWA Theme Colors -->
  <meta name="theme-color" content="#487eb0">
  <meta name="msapplication-TileColor" content="#431a00">

  <!-- Shared Color Palette -->
  <link rel="stylesheet" href="/assets/css/shared-colors.css">

  <!-- Inline CSS for immediate rendering -->
  <link rel="stylesheet" href="/assets/css/pages/blog-inline.css?v=1">

  <!-- Main CSS -->
  <link rel="stylesheet" href="/assets/css/main.css?v=4">

  <!-- Shared Navbar CSS (loads last to override main.css) -->
  <link rel="stylesheet" href="/assets/css/shared-navbar.css">

  <!-- Markdown Parser -->
  <script src="https://cdn.jsdelivr.net/npm/marked@11.1.1/marked.min.js"></script>

  <!-- Syntax Highlighting -->
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/styles/atom-one-dark.min.css">
  <script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.9.0/highlight.min.js"></script>
</head>

<body>
  <script>
    // Immediate visibility enforcement
    document.documentElement.style.setProperty('background', '#273c75', 'important');
    document.documentElement.style.setProperty('background-color', '#273c75', 'important');
    document.documentElement.style.setProperty('color', '#ffffff', 'important');
    document.documentElement.style.setProperty('visibility', 'visible', 'important');
    document.documentElement.style.setProperty('color-scheme', 'light', 'important');

    if (document.body) {
      document.body.style.setProperty('background', '#273c75', 'important');
      document.body.style.setProperty('background-color', '#273c75', 'important');
      document.body.style.setProperty('color', '#ffffff', 'important');
      document.body.style.setProperty('visibility', 'visible', 'important');
      document.body.style.setProperty('opacity', '1', 'important');
      document.body.style.setProperty('color-scheme', 'light', 'important');
    }
  </script>

  <!-- Navigation -->
  <div id="site-navbar"></div>

  <script type="module">
    import { renderNavbar } from '/assets/js/components/navbar.js?v=1';
    renderNavbar('#site-navbar');
  </script>

  <!-- Blog Landing Section -->
  <section class="blog-landing">
    <div class="container">
      <header class="blog-landing__header"></header>

      <!-- Blog Posts Grid -->
      <div class="blog-grid" id="blog-posts">
        <!-- Blog cards will be dynamically inserted by blog-manager.js -->
      </div>

    </div>
  </section>

  <!-- Footer -->
  <div id="site-footer"></div>

  <script type="module">
    import { renderFooter } from '/assets/js/components/footer.js?v=2';
    renderFooter('#site-footer');
  </script>

  <!-- Blog JavaScript -->
  <script type="module" src="/assets/js/utils/reading-time.js?v=2"></script>
  <script type="module" src="/assets/js/components/blog-manager.js?v=2"></script>

  <script type="module">
    // Initialize blog functionality
    import { BlogManager } from '/assets/js/components/blog-manager.js?v=2';

    document.addEventListener('DOMContentLoaded', async () => {
      // Initialize blog manager
      const blogManager = new BlogManager({
        postsDirectory: '/blog/posts/',
        manifestPath: '/blog/posts-manifest.json',
        postsPerPage: 9
      });

      // Load and render posts
      try {
        await blogManager.loadPosts();
        blogManager.renderPostList(document.getElementById('blog-posts'));
      } catch (error) {
        console.error('Error loading blog posts:', error);
        document.getElementById('blog-posts').innerHTML = `
                    <div style="grid-column: 1 / -1; text-align: center; padding: 4rem 2rem;">
                        <h2 style="font-size: 3rem; color: var(--color-text-white); font-weight: 700; margin: 0;">Coming Soon</h2>
                    </div>
                `;
      }
    });
  </script>
</body>

</html>
